{"remainingRequest":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Login.vue","mtime":1587964446693},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  name: \"Auth\",\n  data: () => ({\n    credentials: {},\n    valid: true,\n    loading: false,\n    fail_login: false,\n    inputs: {\n      user_border_b: \"none\",\n      password_border_b: \"none\"\n    }\n  }),\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  computed: {\n    rules() {\n      const rules = [];\n\n      if (this.fail_login) {\n        const rule = v => (!!v && v) === this.fail_login || \"Usuario o contraseña incorrecta\";\n\n        rules.push(rule);\n      }\n\n      return rules;\n    }\n\n  },\n  methods: {\n    Login() {\n      // checking if the input is valid\n      this.loading = true;\n      axios.post(\"http://127.0.0.1:8000/api/v1.0/auth/obtain_token/\", this.credentials).then(res => {\n        console.log(res);\n        this.$session.start();\n        this.$session.set(\"token\", res.data.token);\n        this.$session.set(\"user\", this.credentials.username);\n        this.$router.push(\"/dashboard\");\n      }).catch(e => {\n        this.loading = false;\n        this.fail_login = true;\n        setTimeout(() => this.fail_login = false, 3000);\n      });\n    }\n\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,IAAA,MAAA,YAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAAA,EAAA,OAAA;AACA,IAAA,WAAA,EAAA,EADA;AAEA,IAAA,KAAA,EAAA,IAFA;AAGA,IAAA,OAAA,EAAA,KAHA;AAIA,IAAA,UAAA,EAAA,KAJA;AAKA,IAAA,MAAA,EAAA;AACA,MAAA,aAAA,EAAA,MADA;AAEA,MAAA,iBAAA,EAAA;AAFA;AALA,GAAA,CAFA;AAYA,EAAA,UAAA,EAAA;AACA,gBAAA,aADA;AAEA,IAAA;AAFA,GAZA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,GAAA;AACA,YAAA,KAAA,GAAA,EAAA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,cAAA,IAAA,GAAA,CAAA,IACA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,MAAA,KAAA,UAAA,IAAA,iCADA;;AAEA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA;;AATA,GAhBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,KAAA,GAAA;AACA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CAEA,mDAFA,EAGA,KAAA,WAHA,EAKA,IALA,CAKA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,aAAA,QAAA,CAAA,KAAA;AACA,aAAA,QAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,aAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,KAAA,WAAA,CAAA,QAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,YAAA;AACA,OAXA,EAYA,KAZA,CAYA,CAAA,IAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA,QAAA,UAAA,CAAA,MAAA,KAAA,UAAA,GAAA,KAAA,EAAA,IAAA,CAAA;AACA,OAhBA;AAiBA;;AArBA;AA3BA,CAAA","sourcesContent":["<template>\n  <div>\n    <m-header></m-header>\n    <center>\n      <main class=\"login-form\" style=\"margin-top:7rem !important; margin-bottom:2rem !important;\">\n        <div class=\"cotainer\">\n          <div class=\"row justify-content-center\">\n            <div class=\"col-md-6\">\n              <div class=\"card\" style=\"background-color:#ECECEC;\">\n                <div\n                  class=\"card-header pb-3\"\n                  style=\"font-weight:700;background-color: #455199;color:white;\"\n                >Iniciar Sesión</div>\n                <div class=\"card-body\">\n                  <v-layout\n                    row\n                    fill-height\n                    justify-center\n                    align-center\n                    v-if=\"loading\"\n                    style=\"display:flex;justify-content:center;\"\n                  >\n                    <v-progress-circular :size=\"50\" color=\"primary\" indeterminate />\n                  </v-layout>\n                  <!-- <form action method class=\"mt-3\" @submit.prevent=\"Login\"> -->\n                  <v-form ref=\"form\" @submit.prevent=\"Login\" :lazy-validation=\"lazy\" class=\"mb-2\">\n                    <div class=\"form-group row\" style=\"display:flex;justify-content:center;\">\n                      <div class=\"col-md-7\">\n                        <v-text-field\n                          v-model=\"credentials.username\"\n                          :counter=\"70\"\n                          label=\"usuario\"\n                          maxlength=\"70\"\n                          required\n                          color=\"red lighten-3\"\n                        />\n                      </div>\n                    </div>\n\n                    <div\n                      class=\"form-group row\"\n                      style=\"margin-bottom:0;display:flex;justify-content:center;\"\n                    >\n                      <div class=\"col-md-7\">\n                        <v-text-field\n                          type=\"password\"\n                          v-model=\"credentials.password\"\n                          :counter=\"20\"\n                          label=\"contraseña\"\n                          maxlength=\"20\"\n                          required\n                        />\n                      </div>\n                    </div>\n                    <div\n                      class=\"row form-group mb-2\"\n                      style=\"margin-bottom:0;display:flex;justify-content:center;\"\n                    >\n                      <div v-if=\"fail_login\" class=\"col-md-7 mb-2 text-left\">\n                        <span style=\"color:#C62020;font-weight:700;\">Usuario o contraseña incorrecta</span>\n                      </div>\n                    </div>\n                    <div class=\"row\" style=\"display:flex;justify-content:center;\">\n                      <div class=\"col-md-6 mb-2\">\n                        <button type=\"submit\" class=\"btn btn-danger\">Ingresar</button>\n                      </div>\n                    </div>\n                    <div class=\"row\" style=\"display:flex;justify-content:center;\">\n                      <div class=\"col-md-6\">\n                        <router-link to=\"/register\">¿Olvidó su contraseña?</router-link>\n                      </div>\n                    </div>\n                    <div class=\"row\" style=\"display:flex;justify-content:center;\">\n                      <div class=\"col-md-6 mb-2\">\n                        <router-link to=\"/register\">Registrarse</router-link>\n                      </div>\n                    </div>\n                    <!-- </form> -->\n                  </v-form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </center>\n    <starter-footer></starter-footer>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  name: \"Auth\",\n  data: () => ({\n    credentials: {},\n    valid: true,\n    loading: false,\n    fail_login: false,\n    inputs: {\n      user_border_b: \"none\",\n      password_border_b: \"none\"\n    }\n  }),\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  computed: {\n    rules() {\n      const rules = [];\n      if (this.fail_login) {\n        const rule = v =>\n          (!!v && v) === this.fail_login || \"Usuario o contraseña incorrecta\";\n        rules.push(rule);\n      }\n      return rules;\n    }\n  },\n  methods: {\n    Login() {\n      // checking if the input is valid\n      this.loading = true;\n      axios\n        .post(\n          \"http://127.0.0.1:8000/api/v1.0/auth/obtain_token/\",\n          this.credentials\n        )\n        .then(res => {\n          console.log(res);\n          this.$session.start();\n          this.$session.set(\"token\", res.data.token);\n          this.$session.set(\"user\", this.credentials.username);\n          this.$router.push(\"/dashboard\");\n        })\n        .catch(e => {\n          this.loading = false;\n          this.fail_login = true;\n          setTimeout(() => (this.fail_login = false), 3000);\n        });\n    }\n  }\n};\n</script>"],"sourceRoot":"src/pages"}]}