{"remainingRequest":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/PlanRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/PlanRegister.vue","mtime":1590081141540},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n\n  data() {\n    return {\n      form: {\n        plan: null,\n        first_name: \"\",\n        last_name: \"\",\n        username: \"\",\n        password: \"\",\n        company: {\n          nit: \"\",\n          name: \"\",\n          email: \"\",\n          phone_number: \"\",\n          address: \"\"\n        }\n      },\n      logged: false,\n      credentials: {\n        username: \"\",\n        password: \"\"\n      },\n      base_instance_axios: {}\n    };\n  },\n\n  mounted() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios;\n    this.checkLoggedIn();\n  },\n\n  methods: {\n    register(evt) {\n      if (this.logged) {\n        this.registerPlan();\n      } else {\n        this.registerAll();\n      }\n    },\n\n    registerPlan() {\n      this.$router.push({\n        name: \"pay\",\n        params: {\n          plan: this.form.plan\n        }\n      });\n    },\n\n    registerAll() {\n      console.log(this.form.plan);\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/user/new-customer/\",\n        method: \"post\",\n        data: this.form\n      }).then(res => {\n        console.log(res);\n        swal({\n          type: \"success\",\n          icon: \"success\",\n          title: \"Registro Exitoso\",\n          text: \"El usuario fue creado exitosamente!\",\n          timer: 3000\n        });\n        this.Login();\n      }).catch(e => {\n        swal({\n          type: \"error\",\n          icon: \"error\",\n          title: \"Error\",\n          text: \"El usaurio no puedo ser creado\",\n          timer: 3000\n        });\n      });\n    },\n\n    Login() {\n      // this.loading = true;\n      this.$store.dispatch(\"obtainToken\", {\n        username: this.form.username,\n        password: this.form.password\n      }).then(response => {\n        this.$store.commit(\"updateToken\", response.data.token);\n        this.$store.commit(\"updateUsername\", this.form.username);\n        this.getPermissions().then(res => {\n          this.$store.commit(\"storePermissions\", res.data);\n          this.$router.push({\n            name: \"pay\",\n            params: {\n              plan: this.form.plan,\n              credentials: {\n                username: this.form.username,\n                password: this.form.password\n              }\n            }\n          });\n        }).catch(e => {\n          this.loading = false;\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"Los permisos no fueron traídos\",\n            timer: 3000\n          });\n        });\n      }).catch(error => {\n        this.loading = false;\n        this.fail_login = true;\n        setTimeout(() => this.fail_login = false, 3000);\n      });\n    },\n\n    getPermissions() {\n      const axiosInstance = axios.create(this.$store.getters.getBaseInstanceAxios);\n      return axiosInstance({\n        url: \"/permissions/\",\n        method: \"get\",\n        params: {}\n      });\n    },\n\n    checkLoggedIn() {\n      if (this.$store.state.jwt != null) {\n        this.logged = true;\n      }\n    }\n\n  }\n};",{"version":3,"sources":["PlanRegister.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <m-header></m-header>\n    <!-- Contenedor -->\n    <b-container>\n      <div class=\"row\" style=\"margin-top:5rem;margin-bottom:3rem;\">\n        <div class=\"col-md-12\">\n          <form @submit.stop.prevent=\"register\">\n            <h4 v-if=\"!logged\">Información Personal</h4>\n            <hr v-if=\"!logged\" />\n            <div class=\"row\" v-if=\"!logged\">\n              <div class=\"col-md-6\">\n                <label for=\"registerInputName\">Nombres</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"registerInputName\"\n                  aria-describedby=\"emailHelp\"\n                  placeholder=\"Ingresar nombres\"\n                  v-model=\"form.first_name\"\n                />\n              </div>\n              <div class=\"col-md-6\">\n                <label for=\"registerInputLastName\">Apellidos</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"registerInputLastName\"\n                  placeholder=\"Ingresar apellidos\"\n                  v-model=\"form.last_name\"\n                />\n              </div>\n            </div>\n            <div class=\"row\" v-if=\"!logged\">\n              <div class=\"col-md-6\">\n                <label for=\"registerInputEmail\">Correo Electrónico</label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"registerInputEmail\"\n                  aria-describedby=\"emailHelp\"\n                  placeholder=\"Ingresar email\"\n                  v-model=\"form.email\"\n                />\n              </div>\n              <div class=\"col-md-6\">\n                <label for=\"registerInputUser\">Usuario</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"registerInputUser\"\n                  placeholder=\"Ingresar usuario\"\n                  v-model=\"form.username\"\n                  required\n                />\n              </div>\n            </div>\n            <div class=\"row\" v-if=\"!logged\">\n              <div class=\"col-md-6\">\n                <label for=\"registerInputPassword\">Contraseña</label>\n                <input\n                  type=\"password\"\n                  class=\"form-control\"\n                  id=\"registerInputPassword\"\n                  placeholder=\"Ingresar contraseña\"\n                  v-model=\"form.password\"\n                  required\n                />\n              </div>\n              <div class=\"col-md-6\">\n                <label for=\"registerInputRePassword\">Confirmar contraseña</label>\n                <input\n                  type=\"password\"\n                  class=\"form-control\"\n                  id=\"registerInputRePassword\"\n                  placeholder=\"Confirmar contraseña\"\n                  v-model=\"form.re_password\"\n                />\n              </div>\n            </div>\n            <!-- <hr/> -->\n            <h4 v-if=\"!logged\">Información de la compañía</h4>\n            <hr v-if=\"!logged\" />\n            <div class=\"row\" v-if=\"!logged\">\n              <div class=\"col-md-6\">\n                <label for=\"registerInputNit\">Nit</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"registerInputNit\"\n                  placeholder=\"Ingresar nit\"\n                  v-model=\"form.company.nit\"\n                />\n              </div>\n              <div class=\"col-md-6\">\n                <label for=\"registerInputNameCompany\">Nombre de la compañía</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"registerInputNameCompany\"\n                  placeholder=\"Ingresar nombre de compañía\"\n                  v-model=\"form.company.name\"\n                />\n              </div>\n            </div>\n            <div class=\"row\" v-if=\"!logged\">\n              <div class=\"col-md-6\">\n                <label for=\"registerInputEmailCompany\">Correo Electrónico Company</label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"registerInputEmailCompany\"\n                  placeholder=\"Ingresar correo compañía\"\n                  v-model=\"form.company.email\"\n                />\n              </div>\n              <div class=\"col-md-6\">\n                <label for=\"registerInputPhoneNumber\">Número de Teléfono</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"registerInputPhoneNumber\"\n                  placeholder=\"Ingresar numero telefónico\"\n                  v-model=\"form.company.phone_number\"\n                />\n              </div>\n            </div>\n            <div class=\"row\" v-if=\"!logged\">\n              <div class=\"col-md-6\">\n                <label for=\"registerInputAddressCompany\">Dirección</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"registerInputAddressCompany\"\n                  placeholder=\"Ingresar dirección compañía\"\n                  v-model=\"form.company.address\"\n                />\n              </div>\n            </div>\n            <h4>Elegir un plan</h4>\n            <hr />\n            <div class=\"pricing-wrapper clearfix\" style=\"margin-bottom:3rem;\">\n              <b-form-group label=\"Radios using sub-components\">\n                <b-form-radio-group\n                  id=\"radio-group-2\"\n                  v-model=\"form.plan\"\n                  name=\"radio-sub-component\"\n                  required\n                >\n                  <!-- Titulo -->\n                  <div class=\"pricing-table\">\n                    <h3 class=\"pricing-title\" style=\"background: #D8D8D8; color:#454545;\">Plata</h3>\n                    <div class=\"price\">\n                      $2220000\n                      <sup>/ mes</sup>\n                    </div>\n                    <!-- Lista de Caracteristicas / Propiedades -->\n                    <ul class=\"table-list\">\n                      <li>\n                        15\n                        <span>Fotografías / mes</span>\n                      </li>\n                      <li>\n                        3\n                        <span>Inspecciones / mes</span>\n                      </li>\n                      <li>\n                        8\n                        <span>análisis con IA / mes</span>\n                      </li>\n                      <li>\n                        1\n                        <span class=\"unlimited\">Usuario Full</span>\n                      </li>\n                    </ul>\n                    <!-- Contratar / Comprar -->\n                    <div class=\"table-buy\" style=\"text-align:center;margin-bottom:1rem;\">\n                      <div class=\"custom-control custom-radio custom-control-inline\">\n                        <b-form-radio\n                          :value=\"{id:1,name:'Plata',price:2220000,photos:15,inspections:3,analysis:8,users:1, backgroundcolor:'#D8D8D8'}\"\n                          class=\"label-prices\"\n                        >Seleccionar</b-form-radio>\n                        <!-- <input\n                          type=\"radio\"\n                          id=\"radioPlan3\"\n                          name=\"radioPlan\"\n                          class=\"custom-control-input\"\n                        />\n                        <label\n                          class=\"custom-control-label label-prices\"\n                          for=\"radioPlan3\"\n                        >Seleccionar</label>-->\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"pricing-table\">\n                    <h3 class=\"pricing-title\" style=\"background: #E3D83D; color:#454545;\">Oro</h3>\n                    <div class=\"price\">\n                      $3260000\n                      <sup>/ mes</sup>\n                    </div>\n                    <!-- Lista de Caracteristicas / Propiedades -->\n                    <ul class=\"table-list\">\n                      <li>\n                        20\n                        <span>Fotografías / mes</span>\n                      </li>\n                      <li>\n                        4\n                        <span>Inspecciones / mes</span>\n                      </li>\n                      <li>\n                        10\n                        <span>análisis con IA / mes</span>\n                      </li>\n                      <li>\n                        2\n                        <span class=\"unlimited\">Usuarios Full</span>\n                      </li>\n                    </ul>\n                    <!-- Contratar / Comprar -->\n                    <div class=\"table-buy\" style=\"text-align:center;margin-bottom:1rem;\">\n                      <b-form-radio\n                        :value=\"{id:2,name:'Oro',price:3260000,photos:20,inspections:4,analysis:10,users:2, backgroundcolor:'#E3D83D'}\"\n                        class=\"label-prices\"\n                      >Seleccionar</b-form-radio>\n                      <!-- <input\n                          type=\"radio\"\n                          id=\"radioPlan2\"\n                          name=\"radioPlan\"\n                          class=\"custom-control-input\"\n                      />-->\n                      <!-- <label\n                          class=\"custom-control-label label-prices\"\n                          for=\"radioPlan2\"\n                      >Seleccionar</label>-->\n                    </div>\n                  </div>\n                  <div class=\"pricing-table\">\n                    <h3 class=\"pricing-title\" style=\"background: #58DA77; color:#454545;\">PLatino</h3>\n                    <div class=\"price\">\n                      $4500000\n                      <sup>/ mes</sup>\n                    </div>\n                    <!-- Lista de Caracteristicas / Propiedades -->\n                    <ul class=\"table-list\">\n                      <li>\n                        30\n                        <span>Fotografías / mes</span>\n                      </li>\n                      <li>\n                        4\n                        <span>Inspecciones / mes</span>\n                      </li>\n                      <li>\n                        15\n                        <span>análisis con IA / mes</span>\n                      </li>\n                      <li>\n                        4\n                        <span class=\"unlimited\">Usuarios Full</span>\n                      </li>\n                    </ul>\n                    <!-- Contratar / Comprar -->\n                    <div class=\"table-buy\" style=\"text-align:center;margin-bottom:1rem;\">\n                      <div class=\"custom-control custom-radio custom-control-inline\">\n                        <b-form-radio\n                          :value=\"{id:3,name:'Platino',price:4500000,photos:30,inspections:4,analysis:15,users:4,backgroundcolor:'#58DA77'}\"\n                          class=\"label-prices\"\n                        >Seleccionar</b-form-radio>\n                      </div>\n                    </div>\n                  </div>\n                </b-form-radio-group>\n              </b-form-group>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-12 text-center\">\n                <input type=\"submit\" value=\"Pasar al Pago\" class=\"btn btn-primary\" />\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </b-container>\n    <starter-footer></starter-footer>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  data() {\n    return {\n      form: {\n        plan: null,\n        first_name: \"\",\n        last_name: \"\",\n        username: \"\",\n        password: \"\",\n        company: {\n          nit: \"\",\n          name: \"\",\n          email: \"\",\n          phone_number: \"\",\n          address: \"\"\n        }\n      },\n      logged: false,\n      credentials:{\n        username:\"\",\n        password:\"\"\n      },\n      base_instance_axios: {},\n    };\n  },\n  mounted() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios;\n    this.checkLoggedIn();\n  },\n  methods: {\n    register(evt) {\n      if (this.logged) {\n        this.registerPlan();\n      } else {\n        this.registerAll();\n      }\n    },\n    registerPlan() {\n      this.$router.push({ name: \"pay\", params: { plan: this.form.plan } });\n    },\n    registerAll() {\n      console.log(this.form.plan);\n      const axiosInstance = axios.create(\n        this.base_instance_axios\n      );\n      axiosInstance({\n        url: \"/user/new-customer/\",\n        method: \"post\",\n        data: this.form\n      })\n        .then(res => {\n          console.log(res);\n          swal({\n            type: \"success\",\n            icon: \"success\",\n            title: \"Registro Exitoso\",\n            text: \"El usuario fue creado exitosamente!\",\n            timer: 3000\n          });\n          this.Login();\n        })\n        .catch(e => {\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"El usaurio no puedo ser creado\",\n            timer: 3000\n          });\n        });\n    },\n    Login() {\n      // this.loading = true;\n      this.$store\n        .dispatch(\"obtainToken\", {\n          username: this.form.username,\n          password: this.form.password\n        })\n        .then(response => {\n          this.$store.commit(\"updateToken\", response.data.token);\n          this.$store.commit(\"updateUsername\", this.form.username);\n          this.getPermissions()\n            .then(res => {\n              this.$store.commit(\"storePermissions\", res.data);\n              this.$router.push({\n                name: \"pay\",\n                params: {\n                  plan: this.form.plan,\n                  credentials: {\n                    username: this.form.username,\n                    password: this.form.password\n                  }\n                }\n              });\n            })\n            .catch(e => {\n              this.loading = false;\n              swal({\n                type: \"error\",\n                icon: \"error\",\n                title: \"Error\",\n                text: \"Los permisos no fueron traídos\",\n                timer: 3000\n              });\n            });\n        })\n        .catch(error => {\n          this.loading = false;\n          this.fail_login = true;\n          setTimeout(() => (this.fail_login = false), 3000);\n        });\n    },\n    getPermissions() {\n      const axiosInstance = axios.create(\n        this.$store.getters.getBaseInstanceAxios\n      );\n      return axiosInstance({\n        url: \"/permissions/\",\n        method: \"get\",\n        params: {}\n      });\n    },\n    checkLoggedIn() {\n      if (this.$store.state.jwt != null) {\n        this.logged = true;\n      }\n    }\n  }\n};\n</script>\n<style lang=\"css\">\n* {\n  margin: 0;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.pricing-wrapper ul {\n  list-style-type: none;\n}\n\n.pricing-wrapper a {\n  color: #e95846;\n  text-decoration: none;\n}\n\n.pricing-table-title {\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 2.6em;\n  color: #fff;\n  margin-top: 15px;\n  text-align: left;\n  margin-bottom: 25px;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);\n}\n\n.pricing-table-title a {\n  font-size: 0.6em;\n}\n\n.clearfix:after {\n  content: \"\";\n  display: block;\n  height: 0;\n  width: 0;\n  clear: both;\n}\n/** ========================\n * Contenedor\n ============================*/\n.pricing-wrapper {\n  font-size: 62.5%;\n  font-family: \"Roboto\", Arial, Helvetica, Sans-serif, Verdana;\n  color: white;\n  width: 960px;\n  margin: 40px auto 0;\n}\n\n.pricing-table {\n  margin: 0 10px;\n  text-align: center;\n  width: 300px;\n  float: left;\n  -webkit-box-shadow: 0 0 15px rgba(0, 0, 0, 0.4);\n  box-shadow: 0 0 15px rgba(0, 0, 0, 0.4);\n  -webkit-transition: all 0.25s ease;\n  -o-transition: all 0.25s ease;\n  transition: all 0.25s ease;\n}\n\n.pricing-table:hover {\n  -webkit-transform: scale(1.06);\n  -ms-transform: scale(1.06);\n  -o-transform: scale(1.06);\n  transform: scale(1.06);\n}\n\n.pricing-title {\n  color: #fff;\n  background: #e95846;\n  padding: 20px 0;\n  font-size: 2em;\n  text-transform: uppercase;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);\n}\n\n.pricing-table.recommended .pricing-title {\n  background: #2db3cb;\n}\n\n.pricing-table.recommended .pricing-action {\n  background: #2db3cb;\n}\n\n.pricing-table .price {\n  background: #403e3d;\n  font-size: 3.4em;\n  font-weight: 700;\n  padding: 20px 0;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);\n}\n\n.pricing-table .price sup {\n  font-size: 0.4em;\n  position: relative;\n  left: 5px;\n}\n\n.table-list {\n  background: #fff;\n  color: #403d3a;\n}\n\n.table-list li {\n  font-size: 1.4em;\n  font-weight: 700;\n  padding: 12px 8px;\n}\n\n.table-list li:before {\n  content: \"\\f00c\";\n  font-family: \"FontAwesome\";\n  color: #3fab91;\n  display: inline-block;\n  position: relative;\n  right: 5px;\n  font-size: 16px;\n}\n\n.table-list li span {\n  font-weight: 400;\n}\n\n.table-list li span.unlimited {\n  color: #fff;\n  background: #e95846;\n  font-size: 0.9em;\n  padding: 5px 7px;\n  display: inline-block;\n  -webkit-border-radius: 38px;\n  -moz-border-radius: 38px;\n  border-radius: 38px;\n}\n\n.table-list li:nth-child(2n) {\n  background: #f0f0f0;\n}\n\n.table-buy {\n  background: #fff;\n  padding: 15px;\n  text-align: left;\n  overflow: hidden;\n}\n\n.table-buy p {\n  float: left;\n  color: #37353a;\n  font-weight: 700;\n  font-size: 2.4em;\n}\n\n.table-buy p sup {\n  font-size: 0.5em;\n  position: relative;\n  left: 5px;\n}\n\n.table-buy .pricing-action {\n  float: right;\n  color: #fff;\n  background: #e95846;\n  padding: 10px 16px;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  border-radius: 2px;\n  font-weight: 700;\n  font-size: 1.4em;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);\n  -webkit-transition: all 0.25s ease;\n  -o-transition: all 0.25s ease;\n  transition: all 0.25s ease;\n}\n\n.table-buy .pricing-action:hover {\n  background: #cf4f3e;\n}\n\n.recommended .table-buy .pricing-action:hover {\n  background: #228799;\n}\n\n.label-prices {\n  color: #37353a;\n  font-weight: 700;\n  font-size: 2.4em;\n  line-height: 1.4em;\n  -webkit-font-smoothing: antialiased;\n  font-family: \"Muli\", \"Helvetica\", Arial, sans-serif;\n  margin-top: 0;\n  cursor: pointer;\n  margin-bottom: 1rem !important;\n}\n\n/** ================\n * Responsive\n ===================*/\n@media only screen and (min-width: 768px) and (max-width: 959px) {\n  .pricing-wrapper {\n    width: 768px;\n  }\n\n  .pricing-table {\n    width: 236px;\n  }\n\n  .table-list li {\n    font-size: 1.3em;\n  }\n}\n\n@media only screen and (max-width: 767px) {\n  .pricing-wrapper {\n    width: 420px;\n  }\n\n  .pricing-table {\n    display: block;\n    float: none;\n    margin: 0 0 20px 0;\n    width: 100%;\n  }\n}\n\n@media only screen and (max-width: 479px) {\n  .pricing-wrapper {\n    width: 300px;\n  }\n}\n</style>"],"sourceRoot":"src/pages"}]}