{"remainingRequest":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Plan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Plan.vue","mtime":1588792426290},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\nimport { AgGridVue } from \"ag-grid-vue\";\nimport jwt_decode from \"jwt-decode\";\nexport default {\n  data() {\n    return {\n      columnDefs: [],\n      rowData: [],\n      form: {\n        name: \"\",\n        price: \"\",\n        photos_number: \"\",\n        user_number: \"\",\n        analysis_number: \"\",\n        term_months_number: \"\",\n        inspection_number: \"\"\n      },\n      show: true,\n      loading: false,\n      base_instance_axios: {}\n    };\n  },\n\n  components: {\n    AgGridVue\n  },\n\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios;\n  },\n\n  mounted() {\n    this.getList();\n  },\n\n  methods: {\n    Register(evt) {\n      this.loading = true;\n      axios.post(\"http://127.0.0.1:8000/api/v1.0/plans/\", this.form).then(response => {\n        swal(\"Plan creado exitosamente!\", \"\", \"success\");\n        this.$bvModal.hide(\"modal-form-plan\");\n      }).catch(err => {\n        swal(\"El libro no ha sido creado!\", \"\", \"error\");\n      });\n      this.getList();\n    },\n\n    onReset(evt) {\n      // Reset our form values\n      this.form.name = \"\";\n      this.form.price = \"\";\n      this.form.photos_number = \"\";\n      this.form.user_number = \"\";\n      this.form.analysis_number = \"\";\n      this.form.term_months_number = \"\";\n      this.form.inspection_number = \"\"; // Trick to reset/clear native browser form validation state\n\n      this.show = false;\n      this.$nextTick(() => {\n        this.show = true;\n      });\n    },\n\n    getList() {\n      this.columnDefs = [];\n      this.rowData = [];\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/plans/\",\n        method: \"get\",\n        params: {}\n      }).then(res => {\n        res.data.forEach(item => {\n          Object.keys(item).forEach(key => {\n            this.columnDefs.push({\n              headerName: key,\n              field: key\n            });\n          });\n          this.rowData.push({\n            id: item.id,\n            name: item.name,\n            price: item.price,\n            photos_number: item.photos_number,\n            user_number: item.user_number,\n            analysis_number: item.analysis_number,\n            term_months_number: item.term_months_number,\n            inspection_number: item.inspection_number\n          });\n        });\n      }).catch(e => {\n        this.loading = false;\n        swal({\n          type: \"error\",\n          icon: \"error\",\n          title: \"Error\",\n          text: \"El usaurio no puedo ser creado\",\n          timer: 3000\n        });\n      });\n    }\n\n  }\n};",{"version":3,"sources":["Plan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <ag-grid-vue\n          style=\"width: auto; height: 300px;\"\n          class=\"ag-theme-balham\"\n          :columnDefs=\"columnDefs\"\n          :rowData=\"rowData\"\n          pagination=\"true\"\n        ></ag-grid-vue>\n      </div>\n    </div>\n    <b-button v-b-modal.modal-form-plan>Registrar Plan</b-button>\n    <b-modal id=\"modal-form-plan\" title=\"Registrar Plan\">\n      <b-form @submit.prevent=\"Register\" @reset=\"onReset\" v-if=\"show\">\n        <b-form-group id=\"input-group-1\" label=\"Nombre:\" label-for=\"input-1\">\n          <b-form-input id=\"input-1\" v-model=\"form.name\" required placeholder=\"Ingresar nombre\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-2\" label=\"Precio:\" label-for=\"input-2\">\n          <b-form-input id=\"input-2\" v-model=\"form.price\" required placeholder=\"Ingresar Precio\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-3\" label=\"Número Fotos:\" label-for=\"input-3\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-3\"\n            v-model=\"form.photos_number\"\n            required\n            placeholder=\"Ingresar número de fotos\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-4\" label=\"Número de Usuarios:\" label-for=\"input-4\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-4\"\n            v-model=\"form.user_number\"\n            required\n            placeholder=\"Ingresar número de Usuarios\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-5\" label=\"Número de Análisis:\" label-for=\"input-5\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-5\"\n            v-model=\"form.analysis_number\"\n            required\n            placeholder=\"Ingresar número de análisis\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-6\" label=\"Duración en meses:\" label-for=\"input-6\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-6\"\n            v-model=\"form.term_months_number\"\n            required\n            placeholder=\"Ingresar duracion en meses\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-7\" label=\"Número de Inspecciones:\" label-for=\"input-7\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-7\"\n            v-model=\"form.inspection_number\"\n            required\n            placeholder=\"Ingresar número de inspecciones\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-button type=\"submit\" variant=\"primary\">Registrar</b-button>\n        <b-button type=\"reset\" variant=\"danger\">Resetear</b-button>\n      </b-form>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\nimport { AgGridVue } from \"ag-grid-vue\";\nimport jwt_decode from \"jwt-decode\";\nexport default {\n  data() {\n    return {\n      columnDefs: [],\n      rowData: [],\n      form: {\n        name: \"\",\n        price: \"\",\n        photos_number: \"\",\n        user_number: \"\",\n        analysis_number: \"\",\n        term_months_number: \"\",\n        inspection_number: \"\"\n      },\n      show: true,\n      loading: false,\n      base_instance_axios:{}\n    };\n  },\n  components: {\n    AgGridVue\n  },\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios\n  },\n  mounted() {\n    this.getList();\n  },\n  methods: {\n    Register(evt) {\n      this.loading = true;\n      axios\n        .post(\"http://127.0.0.1:8000/api/v1.0/plans/\", this.form)\n        .then(response => {\n          swal(\"Plan creado exitosamente!\", \"\", \"success\");\n          this.$bvModal.hide(\"modal-form-plan\");\n        })\n        .catch(err => {\n          swal(\"El libro no ha sido creado!\", \"\", \"error\");\n        });\n      this.getList();\n    },\n    onReset(evt) {\n      // Reset our form values\n      this.form.name = \"\";\n      this.form.price = \"\";\n      this.form.photos_number = \"\";\n      this.form.user_number = \"\";\n      this.form.analysis_number = \"\";\n      this.form.term_months_number = \"\";\n      this.form.inspection_number = \"\";\n      // Trick to reset/clear native browser form validation state\n      this.show = false;\n      this.$nextTick(() => {\n        this.show = true;\n      });\n    },\n    getList() {\n      this.columnDefs = [];\n      this.rowData = [];\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/plans/\",\n        method: \"get\",\n        params: {}\n      }).then(res => {\n          res.data.forEach(item => {\n            Object.keys(item).forEach(key => {\n              this.columnDefs.push({ headerName: key, field: key });\n            });\n            this.rowData.push({\n              id: item.id,\n              name: item.name,\n              price: item.price,\n              photos_number: item.photos_number,\n              user_number: item.user_number,\n              analysis_number: item.analysis_number,\n              term_months_number: item.term_months_number,\n              inspection_number: item.inspection_number\n            });\n          });\n        })\n        .catch(e => {\n          this.loading = false;\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"El usaurio no puedo ser creado\",\n            timer: 3000\n          });\n        });\n    }\n  }\n};\n</script>"],"sourceRoot":"src/pages"}]}