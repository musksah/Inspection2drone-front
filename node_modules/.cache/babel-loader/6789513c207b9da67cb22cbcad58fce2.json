{"remainingRequest":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Pay.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Pay.vue","mtime":1590101980970},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  data() {\n    return {\n      payUParams: {\n        merchantId: 0,\n        accountId: 0,\n        description: \"null\",\n        referenceCode: \"\",\n        amount: \"null\",\n        tax: 0,\n        taxReturnBase: 0,\n        currency: \"\",\n        signature: \"\",\n        test: 0,\n        buyerEmail: \"\",\n        responseUrl: \"\",\n        confirmationUrl: \"\"\n      },\n      base_instance_axios: {},\n      plan: {\n        id: 1,\n        name: \"\",\n        price: 0,\n        photos: 0,\n        inspections: 0,\n        analysis: 0,\n        users: 0,\n        backgroundcolor: \"#FA4343\"\n      }\n    };\n  },\n\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios;\n  },\n\n  mounted() {\n    this.plan = this.$route.params.plan;\n    console.log(\"Mounted\");\n    console.log(this.plan);\n    console.log(this.credentials); // console.log(this.credentials.username);\n    // console.log(this.credentials.password);\n\n    this.getPayUInformation();\n  },\n\n  methods: {\n    getPayUInformation() {\n      // this.plan = this.$route.params.plan;\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/transaction/go-pay/\",\n        method: \"get\",\n        params: {\n          plan: this.plan.id\n        }\n      }).then(res => {\n        console.log(res);\n        this.payUParams = res.data.data_pay_u;\n        this.$store.commit(\"updatePlan\", this.plan.id);\n        console.log(\"Store plan_id\");\n        console.log(this.$store.state.plan_tranc_id);\n      }).catch(e => {\n        this.loading = false;\n        swal({\n          type: \"error\",\n          icon: \"error\",\n          title: \"Error\",\n          text: \"Los datos del pago no pudieron ser traídos\",\n          timer: 3000\n        });\n      });\n    }\n\n  }\n};",{"version":3,"sources":["Pay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AACA,eAAA;AACA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,UAAA,EAAA,CADA;AAEA,QAAA,SAAA,EAAA,CAFA;AAGA,QAAA,WAAA,EAAA,MAHA;AAIA,QAAA,aAAA,EAAA,EAJA;AAKA,QAAA,MAAA,EAAA,MALA;AAMA,QAAA,GAAA,EAAA,CANA;AAOA,QAAA,aAAA,EAAA,CAPA;AAQA,QAAA,QAAA,EAAA,EARA;AASA,QAAA,SAAA,EAAA,EATA;AAUA,QAAA,IAAA,EAAA,CAVA;AAWA,QAAA,UAAA,EAAA,EAXA;AAYA,QAAA,WAAA,EAAA,EAZA;AAaA,QAAA,eAAA,EAAA;AAbA,OADA;AAgBA,MAAA,mBAAA,EAAA,EAhBA;AAiBA,MAAA,IAAA,EAAA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,CAHA;AAIA,QAAA,MAAA,EAAA,CAJA;AAKA,QAAA,WAAA,EAAA,CALA;AAMA,QAAA,QAAA,EAAA,CANA;AAOA,QAAA,KAAA,EAAA,CAPA;AAQA,QAAA,eAAA,EAAA;AARA;AAjBA,KAAA;AA4BA,GA9BA;;AA+BA,EAAA,UAAA,EAAA;AACA,gBAAA,aADA;AAEA,IAAA;AAFA,GA/BA;;AAmCA,EAAA,WAAA,GAAA;AACA,SAAA,mBAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,oBAAA;AACA,GArCA;;AAsCA,EAAA,OAAA,GAAA;AACA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,WAAA,EAJA,CAKA;AACA;;AACA,SAAA,kBAAA;AACA,GA9CA;;AA+CA,EAAA,OAAA,EAAA;AACA,IAAA,kBAAA,GAAA;AACA;AACA,YAAA,aAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,mBAAA,CAAA;AACA,MAAA,aAAA,CAAA;AACA,QAAA,GAAA,EAAA,sBADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AAAA,UAAA,IAAA,EAAA,KAAA,IAAA,CAAA;AAAA;AAHA,OAAA,CAAA,CAKA,IALA,CAKA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,aAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,UAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA,IAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,aAAA;AAEA,OAbA,EAcA,KAdA,CAcA,CAAA,IAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,IAAA,EAAA,OAFA;AAGA,UAAA,KAAA,EAAA,OAHA;AAIA,UAAA,IAAA,EAAA,4CAJA;AAKA,UAAA,KAAA,EAAA;AALA,SAAA,CAAA;AAOA,OAvBA;AAwBA;;AA5BA;AA/CA,CAAA","sourcesContent":["<template>\n  <div>\n    <m-header></m-header>\n    <b-container style=\"margin-bottom:2rem;margin-top:7rem;\">\n      <div class=\"row\">\n        <div class=\"col-md-12\" style=\"margin-top:0.3rem;\">\n          <h3 class=\"pricing-table-title text-center\" style=\"color:#454545;font-size:2em !important;margin-bottom:0.5em;\">Resumen de la compra</h3>\n          <p class=\"text-center\" style=\"margin-bottom:0;\">Has elegido el plan {{ plan.name }}, revisa las características de tu plan y sigue con el proceso de compra</p>\n        </div>\n        <div\n          class=\"pricing-wrapper clearfix\"\n          style=\"margin-bottom:2rem;display:flex;align-items:center; justify-content:center;\"\n        >\n          <!-- Titulo -->\n          <div class=\"pricing-table\">\n            <h3 class=\"pricing-title\" :style=\"{background:plan.backgroundcolor, color:'#454545'}\">{{ plan.name }}</h3>\n            <div class=\"price\">\n              ${{ plan.price }}\n              <sup>/ mes</sup>\n            </div>\n            <!-- Lista de Caracteristicas / Propiedades -->\n            <ul class=\"table-list\">\n              <li>\n                {{ plan.photos }}\n                <span>Fotografías / mes</span>\n              </li>\n              <li>\n                {{ plan.inspections }}\n                <span>Inspecciones / mes</span>\n              </li>\n              <li>\n                {{ plan.analysis }}\n                <span>análisis con IA / mes</span>\n              </li>\n              <li>\n                {{ plan.users }}\n                <span class=\"unlimited\">Usuario Full</span>\n              </li>\n            </ul>\n            <!-- Contratar / Comprar -->\n          </div>\n        </div>\n      </div>\n      <div class=\"row text-center\" style=\"display:flex;align-items:center; justify-content:center;\">\n        <form method=\"post\" action=\"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/\">\n          <input name=\"merchantId\" type=\"hidden\" v-model=\"payUParams.merchantId\" />\n          <input name=\"accountId\" type=\"hidden\" v-model=\"payUParams.accountId\" />\n          <input name=\"description\" type=\"hidden\" v-model=\"payUParams.description\" />\n          <input name=\"referenceCode\" type=\"hidden\" v-model=\"payUParams.referenceCode\" />\n          <input name=\"amount\" type=\"hidden\" v-model=\"payUParams.amount\" />\n          <input name=\"tax\" type=\"hidden\" v-model=\"payUParams.tax\" />\n          <input name=\"taxReturnBase\" type=\"hidden\" v-model=\"payUParams.taxReturnBase\" />\n          <input name=\"currency\" type=\"hidden\" v-model=\"payUParams.currency\" />\n          <input name=\"signature\" type=\"hidden\" v-model=\"payUParams.signature\" />\n          <input name=\"test\" type=\"hidden\" v-model=\"payUParams.test\" />\n          <input name=\"buyerEmail\" type=\"hidden\" v-model=\"payUParams.buyerEmail\" />\n          <input name=\"responseUrl\" type=\"hidden\" v-model=\"payUParams.responseUrl\" />\n          <input name=\"confirmationUrl\" type=\"hidden\" v-model=\"payUParams.confirmationUrl\" />\n          <router-link class=\"btn btn-secondary mr-2\">Volver</router-link>\n          <input name=\"Submit\" class=\"btn btn-success\" type=\"submit\" value=\"Pagar\" />\n        </form>\n      </div>\n    </b-container>\n    <starter-footer></starter-footer>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  data() {\n    return {\n      payUParams: {\n        merchantId: 0,\n        accountId: 0,\n        description: \"null\",\n        referenceCode: \"\",\n        amount: \"null\",\n        tax: 0,\n        taxReturnBase: 0,\n        currency: \"\",\n        signature: \"\",\n        test: 0,\n        buyerEmail: \"\",\n        responseUrl: \"\",\n        confirmationUrl: \"\"\n      },\n      base_instance_axios: {},\n      plan: {\n        id: 1,\n        name: \"\",\n        price:0,\n        photos:0,\n        inspections:0,\n        analysis:0,\n        users:0,\n        backgroundcolor:\"#FA4343\"\n      },\n    };\n  },\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios;\n  },\n  mounted() {\n    this.plan = this.$route.params.plan;\n    console.log(\"Mounted\");\n    console.log(this.plan);\n    console.log(this.credentials);\n    // console.log(this.credentials.username);\n    // console.log(this.credentials.password);\n    this.getPayUInformation();\n  },\n  methods: {\n    getPayUInformation() {\n      // this.plan = this.$route.params.plan;\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/transaction/go-pay/\",\n        method: \"get\",\n        params: { plan: this.plan.id }\n      })\n        .then(res => {\n          console.log(res);\n          this.payUParams = res.data.data_pay_u;\n          this.$store.commit(\"updatePlan\", this.plan.id);\n          console.log(\"Store plan_id\");\n          \n          console.log(this.$store.state.plan_tranc_id);\n          \n        })\n        .catch(e => {\n          this.loading = false;\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"Los datos del pago no pudieron ser traídos\",\n            timer: 3000\n          });\n        });\n    },\n  }\n};\n</script>\n<style lang=\"css\">\n</style>"],"sourceRoot":"src/pages"}]}