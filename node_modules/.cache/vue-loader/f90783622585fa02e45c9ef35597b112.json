{"remainingRequest":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Plan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Plan.vue","mtime":1588792426290},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\nimport { AgGridVue } from \"ag-grid-vue\";\nimport jwt_decode from \"jwt-decode\";\nexport default {\n  data() {\n    return {\n      columnDefs: [],\n      rowData: [],\n      form: {\n        name: \"\",\n        price: \"\",\n        photos_number: \"\",\n        user_number: \"\",\n        analysis_number: \"\",\n        term_months_number: \"\",\n        inspection_number: \"\"\n      },\n      show: true,\n      loading: false,\n      base_instance_axios:{}\n    };\n  },\n  components: {\n    AgGridVue\n  },\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios\n  },\n  mounted() {\n    this.getList();\n  },\n  methods: {\n    Register(evt) {\n      this.loading = true;\n      axios\n        .post(\"http://127.0.0.1:8000/api/v1.0/plans/\", this.form)\n        .then(response => {\n          swal(\"Plan creado exitosamente!\", \"\", \"success\");\n          this.$bvModal.hide(\"modal-form-plan\");\n        })\n        .catch(err => {\n          swal(\"El libro no ha sido creado!\", \"\", \"error\");\n        });\n      this.getList();\n    },\n    onReset(evt) {\n      // Reset our form values\n      this.form.name = \"\";\n      this.form.price = \"\";\n      this.form.photos_number = \"\";\n      this.form.user_number = \"\";\n      this.form.analysis_number = \"\";\n      this.form.term_months_number = \"\";\n      this.form.inspection_number = \"\";\n      // Trick to reset/clear native browser form validation state\n      this.show = false;\n      this.$nextTick(() => {\n        this.show = true;\n      });\n    },\n    getList() {\n      this.columnDefs = [];\n      this.rowData = [];\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/plans/\",\n        method: \"get\",\n        params: {}\n      }).then(res => {\n          res.data.forEach(item => {\n            Object.keys(item).forEach(key => {\n              this.columnDefs.push({ headerName: key, field: key });\n            });\n            this.rowData.push({\n              id: item.id,\n              name: item.name,\n              price: item.price,\n              photos_number: item.photos_number,\n              user_number: item.user_number,\n              analysis_number: item.analysis_number,\n              term_months_number: item.term_months_number,\n              inspection_number: item.inspection_number\n            });\n          });\n        })\n        .catch(e => {\n          this.loading = false;\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"El usaurio no puedo ser creado\",\n            timer: 3000\n          });\n        });\n    }\n  }\n};\n",{"version":3,"sources":["Plan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Plan.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <ag-grid-vue\n          style=\"width: auto; height: 300px;\"\n          class=\"ag-theme-balham\"\n          :columnDefs=\"columnDefs\"\n          :rowData=\"rowData\"\n          pagination=\"true\"\n        ></ag-grid-vue>\n      </div>\n    </div>\n    <b-button v-b-modal.modal-form-plan>Registrar Plan</b-button>\n    <b-modal id=\"modal-form-plan\" title=\"Registrar Plan\">\n      <b-form @submit.prevent=\"Register\" @reset=\"onReset\" v-if=\"show\">\n        <b-form-group id=\"input-group-1\" label=\"Nombre:\" label-for=\"input-1\">\n          <b-form-input id=\"input-1\" v-model=\"form.name\" required placeholder=\"Ingresar nombre\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-2\" label=\"Precio:\" label-for=\"input-2\">\n          <b-form-input id=\"input-2\" v-model=\"form.price\" required placeholder=\"Ingresar Precio\"></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-3\" label=\"Número Fotos:\" label-for=\"input-3\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-3\"\n            v-model=\"form.photos_number\"\n            required\n            placeholder=\"Ingresar número de fotos\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-4\" label=\"Número de Usuarios:\" label-for=\"input-4\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-4\"\n            v-model=\"form.user_number\"\n            required\n            placeholder=\"Ingresar número de Usuarios\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-5\" label=\"Número de Análisis:\" label-for=\"input-5\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-5\"\n            v-model=\"form.analysis_number\"\n            required\n            placeholder=\"Ingresar número de análisis\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-6\" label=\"Duración en meses:\" label-for=\"input-6\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-6\"\n            v-model=\"form.term_months_number\"\n            required\n            placeholder=\"Ingresar duracion en meses\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-group-7\" label=\"Número de Inspecciones:\" label-for=\"input-7\">\n          <b-form-input\n            type=\"number\"\n            id=\"input-7\"\n            v-model=\"form.inspection_number\"\n            required\n            placeholder=\"Ingresar número de inspecciones\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-button type=\"submit\" variant=\"primary\">Registrar</b-button>\n        <b-button type=\"reset\" variant=\"danger\">Resetear</b-button>\n      </b-form>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\nimport { AgGridVue } from \"ag-grid-vue\";\nimport jwt_decode from \"jwt-decode\";\nexport default {\n  data() {\n    return {\n      columnDefs: [],\n      rowData: [],\n      form: {\n        name: \"\",\n        price: \"\",\n        photos_number: \"\",\n        user_number: \"\",\n        analysis_number: \"\",\n        term_months_number: \"\",\n        inspection_number: \"\"\n      },\n      show: true,\n      loading: false,\n      base_instance_axios:{}\n    };\n  },\n  components: {\n    AgGridVue\n  },\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios\n  },\n  mounted() {\n    this.getList();\n  },\n  methods: {\n    Register(evt) {\n      this.loading = true;\n      axios\n        .post(\"http://127.0.0.1:8000/api/v1.0/plans/\", this.form)\n        .then(response => {\n          swal(\"Plan creado exitosamente!\", \"\", \"success\");\n          this.$bvModal.hide(\"modal-form-plan\");\n        })\n        .catch(err => {\n          swal(\"El libro no ha sido creado!\", \"\", \"error\");\n        });\n      this.getList();\n    },\n    onReset(evt) {\n      // Reset our form values\n      this.form.name = \"\";\n      this.form.price = \"\";\n      this.form.photos_number = \"\";\n      this.form.user_number = \"\";\n      this.form.analysis_number = \"\";\n      this.form.term_months_number = \"\";\n      this.form.inspection_number = \"\";\n      // Trick to reset/clear native browser form validation state\n      this.show = false;\n      this.$nextTick(() => {\n        this.show = true;\n      });\n    },\n    getList() {\n      this.columnDefs = [];\n      this.rowData = [];\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/plans/\",\n        method: \"get\",\n        params: {}\n      }).then(res => {\n          res.data.forEach(item => {\n            Object.keys(item).forEach(key => {\n              this.columnDefs.push({ headerName: key, field: key });\n            });\n            this.rowData.push({\n              id: item.id,\n              name: item.name,\n              price: item.price,\n              photos_number: item.photos_number,\n              user_number: item.user_number,\n              analysis_number: item.analysis_number,\n              term_months_number: item.term_months_number,\n              inspection_number: item.inspection_number\n            });\n          });\n        })\n        .catch(e => {\n          this.loading = false;\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"El usaurio no puedo ser creado\",\n            timer: 3000\n          });\n        });\n    }\n  }\n};\n</script>"]}]}