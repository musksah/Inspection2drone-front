{"remainingRequest":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Pay.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Pay.vue","mtime":1590101980970},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  data() {\n    return {\n      payUParams: {\n        merchantId: 0,\n        accountId: 0,\n        description: \"null\",\n        referenceCode: \"\",\n        amount: \"null\",\n        tax: 0,\n        taxReturnBase: 0,\n        currency: \"\",\n        signature: \"\",\n        test: 0,\n        buyerEmail: \"\",\n        responseUrl: \"\",\n        confirmationUrl: \"\"\n      },\n      base_instance_axios: {},\n      plan: {\n        id: 1,\n        name: \"\",\n        price:0,\n        photos:0,\n        inspections:0,\n        analysis:0,\n        users:0,\n        backgroundcolor:\"#FA4343\"\n      },\n    };\n  },\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios;\n  },\n  mounted() {\n    this.plan = this.$route.params.plan;\n    console.log(\"Mounted\");\n    console.log(this.plan);\n    console.log(this.credentials);\n    // console.log(this.credentials.username);\n    // console.log(this.credentials.password);\n    this.getPayUInformation();\n  },\n  methods: {\n    getPayUInformation() {\n      // this.plan = this.$route.params.plan;\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/transaction/go-pay/\",\n        method: \"get\",\n        params: { plan: this.plan.id }\n      })\n        .then(res => {\n          console.log(res);\n          this.payUParams = res.data.data_pay_u;\n          this.$store.commit(\"updatePlan\", this.plan.id);\n          console.log(\"Store plan_id\");\n          \n          console.log(this.$store.state.plan_tranc_id);\n          \n        })\n        .catch(e => {\n          this.loading = false;\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"Los datos del pago no pudieron ser traídos\",\n            timer: 3000\n          });\n        });\n    },\n  }\n};\n",{"version":3,"sources":["Pay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pay.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <m-header></m-header>\n    <b-container style=\"margin-bottom:2rem;margin-top:7rem;\">\n      <div class=\"row\">\n        <div class=\"col-md-12\" style=\"margin-top:0.3rem;\">\n          <h3 class=\"pricing-table-title text-center\" style=\"color:#454545;font-size:2em !important;margin-bottom:0.5em;\">Resumen de la compra</h3>\n          <p class=\"text-center\" style=\"margin-bottom:0;\">Has elegido el plan {{ plan.name }}, revisa las características de tu plan y sigue con el proceso de compra</p>\n        </div>\n        <div\n          class=\"pricing-wrapper clearfix\"\n          style=\"margin-bottom:2rem;display:flex;align-items:center; justify-content:center;\"\n        >\n          <!-- Titulo -->\n          <div class=\"pricing-table\">\n            <h3 class=\"pricing-title\" :style=\"{background:plan.backgroundcolor, color:'#454545'}\">{{ plan.name }}</h3>\n            <div class=\"price\">\n              ${{ plan.price }}\n              <sup>/ mes</sup>\n            </div>\n            <!-- Lista de Caracteristicas / Propiedades -->\n            <ul class=\"table-list\">\n              <li>\n                {{ plan.photos }}\n                <span>Fotografías / mes</span>\n              </li>\n              <li>\n                {{ plan.inspections }}\n                <span>Inspecciones / mes</span>\n              </li>\n              <li>\n                {{ plan.analysis }}\n                <span>análisis con IA / mes</span>\n              </li>\n              <li>\n                {{ plan.users }}\n                <span class=\"unlimited\">Usuario Full</span>\n              </li>\n            </ul>\n            <!-- Contratar / Comprar -->\n          </div>\n        </div>\n      </div>\n      <div class=\"row text-center\" style=\"display:flex;align-items:center; justify-content:center;\">\n        <form method=\"post\" action=\"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/\">\n          <input name=\"merchantId\" type=\"hidden\" v-model=\"payUParams.merchantId\" />\n          <input name=\"accountId\" type=\"hidden\" v-model=\"payUParams.accountId\" />\n          <input name=\"description\" type=\"hidden\" v-model=\"payUParams.description\" />\n          <input name=\"referenceCode\" type=\"hidden\" v-model=\"payUParams.referenceCode\" />\n          <input name=\"amount\" type=\"hidden\" v-model=\"payUParams.amount\" />\n          <input name=\"tax\" type=\"hidden\" v-model=\"payUParams.tax\" />\n          <input name=\"taxReturnBase\" type=\"hidden\" v-model=\"payUParams.taxReturnBase\" />\n          <input name=\"currency\" type=\"hidden\" v-model=\"payUParams.currency\" />\n          <input name=\"signature\" type=\"hidden\" v-model=\"payUParams.signature\" />\n          <input name=\"test\" type=\"hidden\" v-model=\"payUParams.test\" />\n          <input name=\"buyerEmail\" type=\"hidden\" v-model=\"payUParams.buyerEmail\" />\n          <input name=\"responseUrl\" type=\"hidden\" v-model=\"payUParams.responseUrl\" />\n          <input name=\"confirmationUrl\" type=\"hidden\" v-model=\"payUParams.confirmationUrl\" />\n          <router-link class=\"btn btn-secondary mr-2\">Volver</router-link>\n          <input name=\"Submit\" class=\"btn btn-success\" type=\"submit\" value=\"Pagar\" />\n        </form>\n      </div>\n    </b-container>\n    <starter-footer></starter-footer>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  data() {\n    return {\n      payUParams: {\n        merchantId: 0,\n        accountId: 0,\n        description: \"null\",\n        referenceCode: \"\",\n        amount: \"null\",\n        tax: 0,\n        taxReturnBase: 0,\n        currency: \"\",\n        signature: \"\",\n        test: 0,\n        buyerEmail: \"\",\n        responseUrl: \"\",\n        confirmationUrl: \"\"\n      },\n      base_instance_axios: {},\n      plan: {\n        id: 1,\n        name: \"\",\n        price:0,\n        photos:0,\n        inspections:0,\n        analysis:0,\n        users:0,\n        backgroundcolor:\"#FA4343\"\n      },\n    };\n  },\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  beforeMount() {\n    this.base_instance_axios = this.$store.getters.getBaseInstanceAxios;\n  },\n  mounted() {\n    this.plan = this.$route.params.plan;\n    console.log(\"Mounted\");\n    console.log(this.plan);\n    console.log(this.credentials);\n    // console.log(this.credentials.username);\n    // console.log(this.credentials.password);\n    this.getPayUInformation();\n  },\n  methods: {\n    getPayUInformation() {\n      // this.plan = this.$route.params.plan;\n      const axiosInstance = axios.create(this.base_instance_axios);\n      axiosInstance({\n        url: \"/transaction/go-pay/\",\n        method: \"get\",\n        params: { plan: this.plan.id }\n      })\n        .then(res => {\n          console.log(res);\n          this.payUParams = res.data.data_pay_u;\n          this.$store.commit(\"updatePlan\", this.plan.id);\n          console.log(\"Store plan_id\");\n          \n          console.log(this.$store.state.plan_tranc_id);\n          \n        })\n        .catch(e => {\n          this.loading = false;\n          swal({\n            type: \"error\",\n            icon: \"error\",\n            title: \"Error\",\n            text: \"Los datos del pago no pudieron ser traídos\",\n            timer: 3000\n          });\n        });\n    },\n  }\n};\n</script>\n<style lang=\"css\">\n</style>"]}]}