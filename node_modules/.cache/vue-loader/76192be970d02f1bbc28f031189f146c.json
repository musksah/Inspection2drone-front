{"remainingRequest":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Login-back-up.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/src/pages/Login-back-up.vue","mtime":1587568214265},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sebastian/Documentos/inspection2drone/DjInspection2drone/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  name: \"Auth\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      session_error: false,\n      credentials: {},\n      valid: true,\n      loading: false\n    };\n  },\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  methods: {\n    onSubmit(evt) {\n      const path = `http://127.0.0.1:8000/api/v1.0/`;\n      axios\n        .post(path, { username: this.username, password: this.password })\n        .then(response => {\n          console.log(response);\n          console.log(this.$router);\n          if (response.data.session) {\n            // swal(\"Te has logeado correctamente!\", \"\", \"success\");\n            // location.href(\"/dashboard\")\n            // router.go(\"/dashboard\")\n            console.log(\"entra\");\n\n            this.$router.push({ name: \"dashboard\" });\n          } else {\n            this.session_error = true;\n          }\n        })\n        .catch(err => {\n          swal(\n            \"Problemas de comunicación con el api, estamos trabajando para arreglarlo!\",\n            \"\",\n            \"error\"\n          );\n        });\n    },\n    Cleanform() {\n      if (this.session_error) {\n        this.session_error = false;\n      }\n    },\n    login() {}\n  }\n};\n",{"version":3,"sources":["Login-back-up.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login-back-up.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <m-header></m-header>\n    <!-- <main class=\"login-form\" style=\"margin-top:7rem !important; margin-bottom:2rem !important;\">\n      <div class=\"cotainer\">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-md-6\">\n            <div class=\"card\" style=\"background-color:#ECECEC;\">\n              <div\n                class=\"card-header pb-3\"\n                style=\"font-weight:700;background-color: #455199;color:white;\"\n              >Iniciar Sesión</div>\n              <div class=\"card-body\">\n                <form action method class=\"mt-3\" @submit.prevent=\"onSubmit\">\n                  <div class=\"form-group row\">\n                    <label\n                      for=\"email_address\"\n                      class=\"col-md-4 col-form-label text-md-right\"\n                      style=\"color:#66615B;\"\n                    >Correo Electrónico/Usuario</label>\n                    <div class=\"col-md-6\">\n                      <input\n                        type=\"text\"\n                        id=\"email_address\"\n                        class=\"form-control\"\n                        name=\"username\"\n                        required\n                        autofocus\n                        v-model=\"username\"\n                        @keyup=\"Cleanform\"\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"form-group row\" style=\"margin-bottom:0; !important\">\n                    <label\n                      for=\"password\"\n                      class=\"col-md-4 col-form-label text-md-right\"\n                      style=\"color:#66615B;\"\n                    >Contraseña</label>\n                    <div class=\"col-md-6\">\n                      <input\n                        type=\"password\"\n                        id=\"password\"\n                        class=\"form-control\"\n                        name=\"password\"\n                        required\n                        v-model=\"password\"\n                        @keyup=\"Cleanform\"\n                      />\n                    </div>\n                  </div>\n                  <div class=\"row\" v-if=\"session_error\">\n                    <div class=\"col-md-4\"></div>\n                    <div class=\"col-md-6 mb-3\">\n                      <span style=\"color:#C62020;font-weight:700;\">Usuario o contraseña incorrecta</span>\n                    </div>\n                  </div>\n                  <div class=\"col-md-6 offset-md-4 mb-2\">\n                    <button type=\"submit\" class=\"btn btn-danger\">Ingresar</button>\n                  </div>\n                  <div class=\"col-md-6 offset-md-4\">\n                    <router-link to=\"/register\">¿Olvidó su contraseña?</router-link>\n                  </div>\n                  <div class=\"col-md-6 offset-md-4 mb-2\">\n                    <router-link to=\"/register\">Registrarse</router-link>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>-->\n    <v-container grid-list-md>\n      <v-layout row wrap align-center justify-center fill-height>\n        <v-flex xs12 sm8 lg4 md5>\n          <v-card class=\"login-card\">\n            <v-card-title>\n              <span class=\"headline\">Login to Movies</span>\n            </v-card-title>\n\n            <v-spacer />\n\n            <v-card-text>\n              <v-layout row fill-height justify-center align-center v-if=\"loading\">\n                <v-progress-circular :size=\"50\" color=\"primary\" indeterminate />\n              </v-layout>\n\n              <v-form v-else ref=\"form\" v-model=\"valid\" lazy-validation>\n                <v-container>\n                  <v-text-field\n                    v-model=\"credentials.username\"\n                    :counter=\"70\"\n                    label=\"username\"\n                    :rules=\"rules.username\"\n                    maxlength=\"70\"\n                    required\n                  />\n\n                  <v-text-field\n                    type=\"password\"\n                    v-model=\"credentials.password\"\n                    :counter=\"20\"\n                    label=\"password\"\n                    :rules=\"rules.password\"\n                    maxlength=\"20\"\n                    required\n                  />\n                </v-container>\n                <v-btn class=\"pink white--text\" :disabled=\"!valid\" @click=\"login\">Login</v-btn>\n              </v-form>\n            </v-card-text>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n    <starter-footer></starter-footer>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport StarterHeader from \"@/layout/website/StarterHeader\";\nimport StarterFooter from \"@/layout/website/StarterFooter\";\nexport default {\n  name: \"Auth\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      session_error: false,\n      credentials: {},\n      valid: true,\n      loading: false\n    };\n  },\n  components: {\n    \"m-header\": StarterHeader,\n    StarterFooter\n  },\n  methods: {\n    onSubmit(evt) {\n      const path = `http://127.0.0.1:8000/api/v1.0/`;\n      axios\n        .post(path, { username: this.username, password: this.password })\n        .then(response => {\n          console.log(response);\n          console.log(this.$router);\n          if (response.data.session) {\n            // swal(\"Te has logeado correctamente!\", \"\", \"success\");\n            // location.href(\"/dashboard\")\n            // router.go(\"/dashboard\")\n            console.log(\"entra\");\n\n            this.$router.push({ name: \"dashboard\" });\n          } else {\n            this.session_error = true;\n          }\n        })\n        .catch(err => {\n          swal(\n            \"Problemas de comunicación con el api, estamos trabajando para arreglarlo!\",\n            \"\",\n            \"error\"\n          );\n        });\n    },\n    Cleanform() {\n      if (this.session_error) {\n        this.session_error = false;\n      }\n    },\n    login() {}\n  }\n};\n</script>\n<style>\n.my-form {\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n}\n\n.my-form .row {\n  margin-left: 0;\n  margin-right: 0;\n}\n\n.login-form {\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n}\n\n.login-form .row {\n  margin-left: 0;\n  margin-right: 0;\n}\n\n.btn:hover {\n  color: #212529;\n  text-decoration: none;\n}\n\n.btn-danger {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n</style>"]}]}